(function(t){function e(e){for(var o,a,i=e[0],r=e[1],l=e[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var r=n[i];0!==c[r]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},c={app:0},s=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),c=n.n(o);c.a},"257e":function(t,e,n){},3167:function(t,e,n){},3276:function(t,e,n){"use strict";var o=n("257e"),c=n.n(o);c.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"app__content"},[n("h1",[t._v("Compare your Air")]),n("p",[t._v("compare the air quality between cities in the UK.")]),n("p",[t._v("Select cities to compare using the search tool below.")]),n("SearchTool",{attrs:{locations:t.locations},on:{locationSelected:function(e){return t.locationSelected(e)}},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),n("SelectedLocations",{attrs:{selectedLocations:t.selectedLocations},on:{closeSelectedLocation:function(e){return t.closeSelectedLocation(e)}}})],1)])},s=[],a=n("75fc"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"searchTool__container"},[n("div",{staticClass:"searchTool__inputContainer"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"searchTool__input",attrs:{locations:t.locations,placeholder:"Enter city name"},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value)},t.update]}})]),t.suggestions.length>0?n("Suggestions",{attrs:{suggestions:t.suggestions},on:{locationSelected:function(e){return t.locationSelected(e)}}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"searchTool__icon"},[o("img",{attrs:{src:n("d8e7")}})])}],l=(n("55dd"),n("3b2b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"suggestions__container"},t._l(t.suggestions,(function(e){return n("Suggestion",{key:e.name,attrs:{suggestion:e},on:{locationSelected:function(e){return t.locationSelected(e)}}})})),1)}),u=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"suggestion__container",on:{click:function(e){return t.select(t.suggestion.location)}}},[t._v(t._s(t.suggestion.location))])},f=[],p={name:"Suggestion",props:["suggestion"],methods:{select:function(t){this.$emit("locationSelected",t)}}},g=p,v=(n("ac58"),n("2877")),_=Object(v["a"])(g,d,f,!1,null,"d2d172f2",null),m=_.exports,h={name:"Suggestions",components:{Suggestion:m},props:["suggestions"],methods:{locationSelected:function(t){this.$emit("locationSelected",t)}}},b=h,S=(n("8487"),Object(v["a"])(b,l,u,!1,null,"49b0a2f3",null)),L=S.exports,y=n("b047"),x=n.n(y),C=[],O="",j={name:"SearchTool",props:["locations"],data:function(){return{suggestions:C,text:O}},methods:{update:function(t){var e=this;this.$emit("input",t.target.value),x()((function(){var n=new RegExp("^".concat(t.target.value),"i");0===t.target.value.length?e.suggestions=[]:e.suggestions=e.locations.sort().filter((function(t){return n.test(t.location),n.test(t.location)}))}),500)()},locationSelected:function(t){this.$emit("locationSelected",t),this.text="",this.suggestions=[]}},components:{Suggestions:L}},T=j,w=(n("b5c8"),Object(v["a"])(T,i,r,!1,null,"d007c2fe",null)),$=w.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selectedLocations__container"},t._l(t.selectedLocations,(function(e,o){return n("SelectedLocation",{key:o,attrs:{selectedLocation:e},on:{closeSelectedLocation:function(e){return t.closeSelectedLocation(e)}}})})),1)},P=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selectedLocation__container"},[n("span",{staticClass:"selectedLocation__lastUpdated"},[t._v("\n    "+t._s("UPDATED ")+t._s(" ")+"\n    "),n("timeago",{attrs:{datetime:t.selectedLocation.measurements[0].lastUpdated}})],1),n("div",{staticClass:"selectedLocation__title"},[t._v(t._s(t.selectedLocation.location))]),n("p",{staticClass:"selectedLocation__city"},[t._v(t._s("In "+t.selectedLocation.city+", United Kingdom"))]),n("span",{staticClass:"selectedLocation__values"},[t._v(t._s(t.displayMeasurements(t.selectedLocation.measurements)))]),n("div",{staticClass:"selectedLocation__close",on:{click:function(e){return t.close(t.selectedLocation.location)}}})])},M=[],U=n("8682"),q={name:"SelectedLocation",props:["selectedLocation"],methods:{displayMeasurements:function(t){return t.reduce((function(t,e){return t.concat(" ".concat(e.parameter.toUpperCase(),":").concat(e.value))}),"Values:")},close:function(t){this.$emit("closeSelectedLocation",t)}}};o["a"].use(U["a"],{name:"Timeago",locale:"en",locales:{"zh-CN":n("f2d3"),ja:n("b805")}});var A=q,D=(n("b6ea"),Object(v["a"])(A,k,M,!1,null,"6b12a0cf",null)),J=D.exports,K={name:"SelectedLocations",props:["selectedLocations"],methods:{closeSelectedLocation:function(t){this.$emit("closeSelectedLocation",t)}},components:{SelectedLocation:J}},N=K,z=(n("3276"),Object(v["a"])(N,E,P,!1,null,"4333ebab",null)),B=z.exports,G=n("bc3a"),I=n.n(G),R=function(t){return I.a.get("https://api.openaq.org/v1/latest?location=".concat(t))},V=function(){return I.a.get("https://api.openaq.org/v1/locations?country[]=GB&limit=10000")},F=[],H=[],Q="",W={name:"app",data:function(){return{locations:F,selectedLocations:H,inputText:Q}},components:{SearchTool:$,SelectedLocations:B},methods:{locationSelected:function(t){var e=this;R(t).then((function(t){e.selectedLocations=[].concat(Object(a["a"])(e.selectedLocations),[t.data.results[0]])}))},closeSelectedLocation:function(t){this.selectedLocations=this.selectedLocations.filter((function(e){return e.location!==t}))}},mounted:function(){var t=this;V().then((function(e){t.locations=e.data.results}))}},X=W,Y=(n("034f"),Object(v["a"])(X,c,s,!1,null,null,null)),Z=Y.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(Z)}}).$mount("#app")},"64a9":function(t,e,n){},"6a19":function(t,e,n){},8487:function(t,e,n){"use strict";var o=n("3167"),c=n.n(o);c.a},a32c:function(t,e,n){},ac58:function(t,e,n){"use strict";var o=n("ff4e"),c=n.n(o);c.a},b5c8:function(t,e,n){"use strict";var o=n("a32c"),c=n.n(o);c.a},b6ea:function(t,e,n){"use strict";var o=n("6a19"),c=n.n(o);c.a},d8e7:function(t,e,n){t.exports=n.p+"img/search-icon.477ae302.svg"},ff4e:function(t,e,n){}});
//# sourceMappingURL=app.a25e07a3.js.map